import "db.pil"
import "json.pil"
import pil::db
import pil::json

void main(Array<String> args) {
    var db = new Database("localhost", "root", "", "nuggetdb");
    var conn = db.getConnection();
    var results = conn.query("SHOW TABLES");
    for(Result r : results) {
        println(r.getString(0));
    }
    var o = new JsonObject();
    o.setString("name", "Zef Hemel");
    o.setInt("age", 25);
    //var o2 = pil::json::fromJsonString(o.toJson());
    o = fromJsonString(o.toJson());
    println(o.getString("name"));
    println(o.getInt("age"));
}
